import{o as d,c as l,a as t,y as k,B as T,i as $,j as R,t as c,F as D,k as g,u as n,C as f,n as a}from"./index-0d29c91c.js";import{f as m}from"./numberHelper-25d49756.js";import{c as v,a as j}from"./dateHelper-f75861f0.js";import N from"./AppModal-b27e53ae.js";import"./AppLoader.vue_vue_type_style_index_0_lang-2e650906.js";/* empty css                                                               */const S=["width","height"],B=["fill"],P=t("g",{stroke:"#ffff","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"8.5",cy:"8.5",r:"8"}),t("path",{d:"M8.5 12.5v-4h-1m0 4h2"})],-1),V=t("circle",{cx:"8.5",cy:"5.5",r:"1",fill:"#ffff"},null,-1),F=[P,V],Ce={__name:"ico-info",props:{size:{type:[String,Number],default:"26px"},active:{type:Boolean,default:!1},color:{type:String,default:"#046a38"}},setup(e){return(s,i)=>(d(),l("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 21 21"},[t("g",{fill:e.color,"fill-rule":"evenodd",transform:"translate(2 2)"},F,8,B)],8,S))}},M={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"23",height:"23",viewBox:"0 0 23 23"},z=k('<defs><clipPath id="icn-payment-default"><rect id="Rectangle_791" data-name="Rectangle 791" width="23" height="23" transform="translate(1038 4301)" fill="#1ab55c"></rect></clipPath></defs><g id="icn-payment-default" transform="translate(-1038 -4301)" clip-path="url(#icn-payment-default)"><g id="icn-payment-default-2" data-name="icn-payment-default" transform="translate(1038 4301)"><path id="Path_7460" data-name="Path 7460" d="M248.5,301A11.5,11.5,0,1,0,260,312.5,11.514,11.514,0,0,0,248.5,301Zm0,21.493a9.992,9.992,0,1,1,9.992-9.993A10.006,10.006,0,0,1,248.5,322.493Z" transform="translate(-237 -301)" fill="#1ab55c"></path><path id="Path_7461" data-name="Path 7461" d="M247.157,306.764a2.269,2.269,0,0,1,2.266,2.266.754.754,0,0,0,.754.754h0a.752.752,0,0,0,.754-.752v0a3.782,3.782,0,0,0-3.02-3.7v-1.442a.754.754,0,0,0-.754-.754h0a.756.756,0,0,0-.755.754v1.443a3.774,3.774,0,0,0,.755,7.473,2.267,2.267,0,1,1-2.267,2.267.754.754,0,0,0-.754-.754h0a.754.754,0,0,0-.754.754h0a3.781,3.781,0,0,0,3.02,3.7v1.444a.754.754,0,0,0,.755.753h0a.754.754,0,0,0,.754-.753V318.77a3.774,3.774,0,0,0-.754-7.471,2.267,2.267,0,1,1,0-4.535Z" transform="translate(-235.657 -300.551)" fill="#1ab55c"></path></g></g>',2),H=[z],Ee={__name:"icn-payment",props:{size:{type:[String,Number],default:"26px"},active:{type:Boolean,default:!1},color:{type:String,default:"#046a38"}},setup(e){return(s,i)=>(d(),l("svg",M,H))}},Ie=({plan:e,selected_number_of_rooms:s}={})=>e!=null&&e.rates?(e==null?void 0:e.rates.map(o=>o.discount_rate??o.rate).map(o=>parseFloat(o)).reduce((o,u)=>o+u,0))*s:0,Ue=(e=[],{stay:s,selected_number_of_rooms:i}={})=>e.filter(u=>u.selected).map(u=>u.policy_type!=="Per stay deduction"?u.rate*u.count*s:u.rate*u.count).reduce((u,_)=>u+_,0),Le=(e=0,s=0,i=0,o=0,u=0)=>{const _=e+s,y=i+o+u,h=_-y;return h<0?0:h},qe=(e=[])=>e.filter(s=>s.selected).map(s=>s.name).join(","),Ge=(e=0,s=0,i=0,o=0)=>{e=e||0,s=s||0,i=i||0,o=o||0,s=s/100,o=o/100;const _=(e-i)/(1+s+o);let y=(_*s).toFixed(2),h=(_*o).toFixed(2);return y=y<0?0:y,i=i<0?0:i,h=h<0?0:h,parseFloat(y)+parseFloat(i)+parseFloat(h)},Je=(e=0,s=j(new Date),i=!0)=>{const o=new Date(s);return o.setDate(o.getDate()-e),i?`Free cancellation until 3:00 PM on ${v(o)}.`:`Free cancellation and <span class="text-[#046A38]">100% refundable</span> until 3:00 PM on ${v(o)}. After this date, the reservation will be non-refundable.`},O=(e=[])=>{let s="";return(e==null?void 0:e.length)===1&&(s=e[0]),(e==null?void 0:e.length)===2&&(s=`${e[0]} and ${e[1]}`),(e==null?void 0:e.length)===3&&(s=`${e[0]}, ${e[1]} and ${e[2]}`),s},Ke=(e=0,s=0)=>[e,s].reduce((i,o)=>i+o,0),Z=t("div",{class:a(["text-16-24","font-bold",""])},"Price Summary",-1),C={class:"overflow-y-auto pr-4"},E={class:a(["mt-3","text-14-24","font-bold","","mb-[10px]"])},I={class:a(["text-14-20",""])},U={key:0,class:a(["text-14-24","whitespace-nowrap"])},L={key:1,class:a(["text-14-24","whitespace-nowrap"])},q={class:"flex justify-between mt-3"},G=t("div",{class:a(["font-bold","text-16-24",""])}," Sub Room Total ",-1),J={class:a(["text-16-24","whitespace-nowrap","font-bold xs:w-2/3 text-right"])},K={class:a(["","text-12-16","mb-[10px]"])},Q={class:"flex justify-between items-center"},W={class:a(["text-14-20"," w-2/4"])},X={class:"break-all"},Y={key:0,class:a(["","text-12-16","ml-1"])},A={class:a(["text-14-24","whitespace-nowrap"])},ee={key:0},te={class:"flex justify-between mt-3"},se=t("div",{class:a(["text-16-24","","font-bold"])}," Sub Add Ons Total ",-1),oe={class:a(["text-16-24","xs:w-2/3 text-right","font-bold whitespace-nowrap"])},ae={class:a(["","text-12-16"])},ce={key:1,class:"flex justify-between mt-3 items-end"},ne={class:a(["text-14-20"])},de={key:0,class:""},le={class:"break-all"},ie={class:"text-[12px] break-all"},ue={key:1,class:"text-xs text-primary"},re={key:2,class:"truncate"},me={key:0,class:a(["text-14-24","whitespace-nowrap"])},he={key:2,class:"flex justify-between mt-1"},fe=t("div",{class:a(["text-14-20",""])},"Points Redeemed",-1),_e={class:a(["text-14-24","whitespace-nowrap"])},ye=t("div",{class:"my-[14px] border-y-[1px]"},null,-1),xe={key:3,class:"flex justify-between mt-3"},ve={class:"flex flex-col w-2/4"},we=t("div",{class:a(["text-16-24","","font-bold"])}," Included Taxes ",-1),pe={class:a(["","text-12-16 "])},be={class:"flex flex-col"},De=t("div",{class:a(["text-16-24","","font-bold","invisible"])}," - ",-1),ge={class:a(["text-14-24","whitespace-nowrap","font-bold"])},ke={key:0},Te={key:1},$e={class:"flex justify-between mt-[14px]"},Re=t("div",{class:a(["text-16-24","","font-bold "])}," Total Amount ",-1),je={class:a(["text-16-24","whitespace-nowrap","font-bold xs:w-2/3 text-right"])},Ne={key:0},Se={key:1},Be={key:4,class:"flex justify-between mt-[14px]"},Pe=t("div",{class:a(["text-14-24","","font-bold"])},"Total Refund",-1),Ve={class:a(["text-14-24","whitespace-nowrap","font-bold"])},Qe={__name:"BookingSummary",props:{show:{type:Boolean,default:!0},propertyDetail:{type:Object,default:{}},fetchedDetails:{type:Object,default:{}},computedRoomTotal:{type:Number,default:0},computedAddonTotal:{type:Number,default:0},computedVoucherTotal:{type:Number,default:0},computedPointsRedeemedTotal:{type:Number,default:0},computedTaxes:{type:Number,default:0},totalAmount:{type:Number,default:0},_mod_type:{type:String,default:""}},setup(e){const s=T();return(i,o)=>(d(),$(n(N),{show:e.show,"onUpdate:show":o[0]||(o[0]=u=>i.$emit("update:show",!1)),containerClass:"w-[420px] h-auto max-h-[80%] md:w-full md:mx-6 xs:w-[90%]"},{default:R(()=>{var u,_,y,h,w,p,b;return[Z,t("div",C,[t("div",E,c(((u=e.propertyDetail.room)==null?void 0:u.name)??e.propertyDetail.room_name),1),(d(!0),l(D,null,g((_=e.propertyDetail.plan)==null?void 0:_.rates,(r,x)=>(d(),l("div",{class:"flex justify-between",key:x},[t("div",I,c(n(v)(r.date)),1),!e._mod_type||e._mod_type!="3"?(d(),l("div",U,c(n(m)(e.fetchedDetails.currency,r.discount_rate??r.rate,2)),1)):(d(),l("div",L,c(n(m)(e.fetchedDetails.currency,parseFloat(n(s).vouchers&&n(s).vouchers.mod_value?n(s).vouchers.mod_value:"0"),2)),1))]))),128)),t("div",q,[G,t("div",J,c(n(m)(e.fetchedDetails.currency,e.computedRoomTotal,2)),1)]),t("div",K," x "+c(e.propertyDetail.selected_number_of_rooms)+" Room"+c(e.propertyDetail.selected_number_of_rooms>1?"s":""),1),(d(!0),l(D,null,g(n(s).addOns.filter(r=>r.selected),(r,x)=>(d(),l("div",{key:x},[t("div",Q,[t("div",W,[t("span",X,c(r.name),1),r.count>1?(d(),l("span",Y,c(`(x${r.count})`),1)):f("",!0)]),t("div",A,c(n(m)(e.fetchedDetails.currency,r.policy_type!=="Per stay deduction"?r.rate*r.count*e.propertyDetail.stay:r.rate*r.count,2)),1)])]))),128)),e.computedAddonTotal?(d(),l("div",ee,[t("div",te,[se,t("div",oe,c(n(m)(e.fetchedDetails.currency,e.computedAddonTotal,2)),1)]),t("div",ae," x "+c(e.propertyDetail.selected_number_of_rooms)+" Room"+c(e.propertyDetail.selected_number_of_rooms>1?"s":""),1)])):f("",!0),e.computedVoucherTotal?(d(),l("div",ce,[t("div",ne,[e._mod_type&&e._mod_type=="3"?(d(),l("div",de,[t("div",le,c((y=n(s).vouchers)==null?void 0:y.code),1),t("div",ie,"( Adjusted room rate "+c(n(m)(e.fetchedDetails.currency,e.computedVoucherTotal,2))+" )",1)])):f("",!0),e._mod_type&&e._mod_type!="3"?(d(),l("div",ue,"Voucher Used")):f("",!0),e._mod_type&&e._mod_type!="3"?(d(),l("div",re,c((h=n(s).vouchers)==null?void 0:h.code),1)):f("",!0)]),e._mod_type&&e._mod_type!="3"?(d(),l("div",me," - "+c(n(m)(e.fetchedDetails.currency,e.computedVoucherTotal,2)),1)):f("",!0)])):f("",!0),e.computedPointsRedeemedTotal?(d(),l("div",he,[fe,t("div",_e," - "+c(n(m)(e.fetchedDetails.currency,e.computedPointsRedeemedTotal,2)),1)])):f("",!0),ye,(w=e.fetchedDetails.taxTitle)!=null&&w.length?(d(),l("div",xe,[t("div",ve,[we,t("div",pe,c(`(${n(O)(e.fetchedDetails.taxTitle)})`),1)]),t("div",be,[De,t("div",ge,[n(s).booking.isNotRefundable?(d(),l("span",ke,c(n(m)(e.fetchedDetails.currency,0,2)),1)):(d(),l("span",Te,c(n(m)(e.fetchedDetails.currency,e.computedTaxes.toFixed(2),2)),1))])])])):f("",!0),t("div",$e,[Re,t("div",je,[n(s).booking.isNotRefundable?(d(),l("span",Ne,c(n(m)(e.fetchedDetails.currency,0,2)),1)):(d(),l("span",Se,c(n(m)(e.fetchedDetails.currency,e.totalAmount,2)),1))])]),(p=e.fetchedDetails.invoice)!=null&&p.refunded?(d(),l("div",Be,[Pe,t("div",Ve,[t("span",null,c(n(m)(e.fetchedDetails.currency,(b=e.fetchedDetails.invoice)==null?void 0:b.refunded,2)),1)])])):f("",!0)])]}),_:1},8,["show"]))}};export{Ce as _,Ee as a,Qe as b,qe as c,Ie as d,Ue as e,Le as f,Ge as g,Je as s,Ke as t};
