import{o as y,c as w,a as e,y as le,r as D,g as T,h as V,j as W,t as x,p as B,n as A,H as F,u as o,C as P,b as ee,as as fe,l as q,x as he,d as xe,B as X,q as O,I as ne,J as ie,s as re,e as de,E as ue,F as ce,k as me,i as be,aa as H,L as M,a3 as ge}from"./index-0d29c91c.js";import{a as z,f as ae}from"./dateHelper-f75861f0.js";import{a as ye}from"./booking-84804f94.js";import{i as we,f as Y}from"./numberHelper-25d49756.js";import{_ as $e,a as Se,b as ke}from"./index.css_vue_type_style_index_0_src_true_lang-6697b8bd.js";import{_ as K}from"./ico-chevron-f2223c49.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";import{s as De,a as Re,U as Ce}from"./countries-d3044a4a.js";import{c as se,a as Ae}from"./AppLoader.vue_vue_type_style_index_0_lang-2e650906.js";/* empty css                                                               */import J from"./AppModal-b27e53ae.js";import{A as Le}from"./AppAreaCodePopup-082382bb.js";import{_ as Me}from"./icn-intruction-cc70d524.js";import{v as Ve}from"./vouchers-0dc779af.js";import{_ as Ee}from"./ico-search-65e72bb8.js";import{I as Ue,v as Pe}from"./voucherUnlocked-13825305.js";const Ne=["height"],Te={id:"icn-coins-redeemed"},Ie=["height"],Be=le('<g id="icn-coins-redeemed" transform="translate(-1006 -4302)" clip-path="url(#icn-coins-redeemed)"><g id="Group_14097" data-name="Group 14097" transform="translate(1006 4302)"><path id="Path_7717" data-name="Path 7717" d="M249.265,397.256a2.066,2.066,0,0,0-2.733-.061l-3.234,2.4h-4.8a5.515,5.515,0,0,0-8.377,2.3,2.122,2.122,0,0,0-2.438.394l-1.122,1.12a2.126,2.126,0,0,0,0,3l3.692,3.694a2.129,2.129,0,0,0,3,0l1.122-1.122a2.115,2.115,0,0,0,.234-2.718h9.181l5.475-6.2A1.988,1.988,0,0,0,249.265,397.256Zm-15.783,10.832-1.12,1.122a.859.859,0,0,1-1.218,0l-3.692-3.693a.86.86,0,0,1,0-1.216l1.122-1.12a.861.861,0,0,1,1.216,0l3.692,3.692a.859.859,0,0,1,0,1.216Zm14.862-8.893-5.123,5.8H233.4l-2.25-2.248a4.26,4.26,0,0,1,6.908-1.892h4.465a.745.745,0,0,1,0,1.489h-2.2a.632.632,0,1,0,0,1.263h2.2A2.006,2.006,0,0,0,244.2,400.5l3.158-2.351a.72.72,0,1,1,.99,1.046Z" transform="translate(-225.938 -386.901)" fill="#1ab55c"></path><circle id="Ellipse_66" data-name="Ellipse 66" cx="0.632" cy="0.632" r="0.632" transform="translate(11.302 15.447)" fill="#1ab55c"></circle><path id="Path_7718" data-name="Path 7718" d="M237.3,394.192a.392.392,0,0,1,.39.392.4.4,0,0,1-.75.153.631.631,0,1,0-1.163.49,1.631,1.631,0,0,0,.894.87.628.628,0,0,0,1.254.014,1.652,1.652,0,0,0-.625-3.182.391.391,0,0,1-.39-.39.4.4,0,0,1,.745-.164.631.631,0,1,0,1.146-.529,1.64,1.64,0,0,0-.873-.818.627.627,0,0,0-1.254-.015,1.652,1.652,0,0,0,.626,3.181Z" transform="translate(-223.383 -388.558)" fill="#1ab55c"></path><path id="Path_7719" data-name="Path 7719" d="M238,398.949a5,5,0,1,0-5-5A5.009,5.009,0,0,0,238,398.949Zm0-8.742a3.74,3.74,0,1,1-3.74,3.739A3.743,3.743,0,0,1,238,390.207Z" transform="translate(-224.081 -388.944)" fill="#1ab55c"></path></g></g>',1),ps={__name:"icn-coins-redeemed",props:{size:{type:[String,Number],default:"24"},active:{type:Boolean,default:!1},color:{type:String,default:"#046a38"}},setup(_){return(i,n)=>(y(),w("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24",height:_.size,viewBox:"0 0 24 24"},[e("defs",null,[e("clipPath",Te,[e("rect",{id:"Rectangle_790","data-name":"Rectangle 790",width:"24",height:_.size,transform:"translate(1006 4302)",fill:"#1ab55c"},null,8,Ie)])]),Be],8,Ne))}},Fe=["height"],Oe={id:"icn-voucher-default"},je=["height"],Ge=le('<g id="icn-voucher-default" transform="translate(-965 -4295)" clip-path="url(#icn-voucher-default)"><g id="Group_14096" data-name="Group 14096" transform="translate(965 4298.789)"><path id="Path_7711" data-name="Path 7711" d="M228.945,367.147H207.471a1.263,1.263,0,0,0-1.263,1.263v4.185h.5a2.369,2.369,0,0,1,2.375,1.892,2.281,2.281,0,0,1-2.246,2.663h-.632v4.244a1.264,1.264,0,0,0,1.263,1.263h21.474a1.264,1.264,0,0,0,1.263-1.263V368.41A1.263,1.263,0,0,0,228.945,367.147Zm0,13.931a.316.316,0,0,1-.316.316H212.971v-.8a.632.632,0,0,0-1.263,0v.8h-3.921a.316.316,0,0,1-.316-.316v-2.722a3.541,3.541,0,0,0,0-6.969v-2.661a.316.316,0,0,1,.316-.316h3.921v.795a.632.632,0,0,0,1.263,0v-.795h15.658a.316.316,0,0,1,.316.316Z" transform="translate(-206.208 -367.147)" fill="#1ab55c"></path><path id="Path_7712" data-name="Path 7712" d="M211.194,370.529a.631.631,0,0,0-.632.632v1.426a.632.632,0,0,0,1.263,0v-1.426A.63.63,0,0,0,211.194,370.529Z" transform="translate(-205.062 -366.257)" fill="#1ab55c"></path><path id="Path_7713" data-name="Path 7713" d="M211.194,373.911a.631.631,0,0,0-.632.632v1.426a.632.632,0,0,0,1.263,0v-1.426A.63.63,0,0,0,211.194,373.911Z" transform="translate(-205.062 -365.367)" fill="#1ab55c"></path><path id="Path_7714" data-name="Path 7714" d="M223.7,369.482a.629.629,0,0,0-.882.142l-6.447,8.922a.631.631,0,1,0,1.023.74l6.448-8.922A.632.632,0,0,0,223.7,369.482Z" transform="translate(-204.252 -366.564)" fill="#1ab55c"></path><path id="Path_7715" data-name="Path 7715" d="M219.65,371.52a2.116,2.116,0,1,0-2.116,2.116A2.119,2.119,0,0,0,219.65,371.52Zm-2.968,0a.853.853,0,1,1,.853.853A.854.854,0,0,1,216.681,371.52Z" transform="translate(-204.049 -366.553)" fill="#1ab55c"></path><path id="Path_7716" data-name="Path 7716" d="M221.957,374.033a2.116,2.116,0,1,0,2.115,2.116A2.118,2.118,0,0,0,221.957,374.033Zm0,2.968a.853.853,0,1,1,.851-.853A.854.854,0,0,1,221.957,377Z" transform="translate(-203.42 -365.335)" fill="#1ab55c"></path></g></g>',1),vs={__name:"icn-voucher",props:{size:{type:[String,Number],default:"24"},active:{type:Boolean,default:!1},color:{type:String,default:"#046a38"}},setup(_){return(i,n)=>(y(),w("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24",height:_.size,viewBox:"0 0 24 24"},[e("defs",null,[e("clipPath",Oe,[e("rect",{id:"Rectangle_787","data-name":"Rectangle 787",width:"24",height:_.size,transform:"translate(965 4295)",fill:"#1ab55c"},null,8,je)])]),Ge],8,Fe))}},Ze=["width","height"],He=e("defs",null,[e("clipPath",{id:"icn-add_ons"},[e("rect",{id:"Rectangle_792","data-name":"Rectangle 792",width:"19",height:"19",transform:"translate(1074 4324)",fill:"#1ab55c"})])],-1),ze=e("g",{id:"icn-add_ons","data-name":"icn-add ons",transform:"translate(-1074 -4324)","clip-path":"url(#icn-add_ons)"},[e("path",{id:"Path_7720","data-name":"Path 7720",d:"M224.139,395.827a8.526,8.526,0,0,0-7.624-7.328,1.321,1.321,0,0,0,.513-1.03,1.344,1.344,0,0,0-2.688,0,1.319,1.319,0,0,0,.514,1.03,8.525,8.525,0,0,0-7.625,7.328,1.179,1.179,0,0,0,.382,2.3h16.146a1.18,1.18,0,0,0,.382-2.3Zm-8.455-8.7a.344.344,0,1,1-.344.344A.344.344,0,0,1,215.684,387.125Zm0,2.333a7.528,7.528,0,0,1,7.431,6.292H208.254A7.526,7.526,0,0,1,215.684,389.458Zm8.073,7.667H207.611a.188.188,0,1,1,0-.375h16.146a.188.188,0,0,1,0,.375Z",transform:"translate(867.577 3941.875)",fill:"#1ab55c"})],-1),Qe=[He,ze],_s={__name:"icn-addons",props:{size:{type:[String,Number],default:"26px"},active:{type:Boolean,default:!1},color:{type:String,default:"#046a38"}},setup(_){return(i,n)=>(y(),w("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:_.size,height:_.size,viewBox:"0 0 19 19"},Qe,8,Ze))}},Ke={class:""},We={class:"text-xl leading-6 font-medium"},Je={class:"mt-5 flex flex-col"},qe=e("label",{class:"text-sm leading-4 font-medium",for:"first-name"},[ee("First Name"),e("span",{class:"text-red-500"},"*")],-1),Xe={class:"text-sm text-red-600"},Ye={class:"mt-4 grid grid-cols-2 gap-2"},et={class:"flex flex-col"},tt=e("label",{class:"text-sm leading-4 font-medium",for:"middle-name"},"Middle Name ",-1),at={class:"text-sm text-red-600"},st={class:"flex flex-col"},ot=e("label",{class:"text-sm leading-4 font-medium",for:"last-name"},[ee("Last Name"),e("span",{class:"text-red-500"},"*")],-1),lt={class:"text-sm text-red-600"},nt={class:"mt-4 flex flex-col relative"},it=e("label",{class:"text-sm leading-4 font-medium",for:"phone-number"},"Phone number ",-1),rt={class:"text-sm text-red-600"},dt={key:0,class:A(["absolute","bottom-5"])},ut={class:"mt-4 flex flex-col"},ct=e("label",{class:"text-sm leading-4 font-medium",for:"email"},[ee("Email Address"),e("span",{class:"text-red-500"},"*")],-1),mt={class:"text-sm text-red-600"},pt={class:"flex justify-between mt-5 xs:flex-col xs:gap-2"},vt={class:"flex justify-center"},_t=e("div",{class:"mt-5 flex justify-center text-sm text-center"}," Delete Guest? ",-1),ft={class:"mt-10 flex flex-col gap-2"},ht={__name:"AppGuestDetailsModal",props:{show:{type:Boolean,default:!0},guestData:{type:Object,default:{}}},emits:["update:show","add:guestDetails","delete:guestDetails","update:guestDetails"],setup(_,{emit:i}){const n=_,t=D(!1),r=D(!1),s=D({id:null,guest_first_name:null,guest_middle_name:null,guest_last_name:null,guest_contact:"",guest_email:null,countryCode:"+63"}),k=D({first_name:null,middle_name:null,last_name:null,email:null,contact:null}),m=()=>{f.value=null,k.value={first_name:null,middle_name:null,last_name:null,email:null,contact:null}},f=D(null),U=p=>{for(const a in p)k.value[a]=p[a][0]},C=()=>fe({first_name:s.value.guest_first_name,middle_name:s.value.guest_middle_name,last_name:s.value.guest_last_name,email:s.value.guest_email,contact:String(s.value.guest_contact)}),$=p=>{const a=C();a[p]?k.value[p]=a[p][0]:k.value[p]=null},R=()=>{var a;var p=C();if((a=Object.keys(p))!=null&&a.length)m(),U(p);else{const g={...s.value,guest_contact:s.value.guest_contact?String(s.value.countryCode+s.value.guest_contact):null};"index"in s.value?i("update:guestDetails",g):i("add:guestDetails",g),m(),i("update:show",!1)}},E=()=>{i("delete:guestDetails",f.value),r.value=!1,m(),i("update:show",!1)};return T(()=>n.guestData,p=>{var g;if(!((g=Object.keys(p))!=null&&g.length))return;const a=p.guest_contact?De(p.guest_contact):null;s.value={...p,countryCode:a?a.countryCallingCode:"+63",guest_contact:a?a.nationalNumber:""}},{deep:!0}),(p,a)=>(y(),w("div",null,[V(J,{show:_.show,"onUpdate:show":a[13]||(a[13]=g=>(m(),p.$emit("update:show",!1))),containerClass:"w-[600px] h-auto md:w-full md:mx-6  landscape:overflow-x-hidden"},{default:W(()=>{var g,S,l,h;return[e("div",Ke,[e("div",We,x(s.value.hasOwnProperty("index")?"Update":"Add")+" Guest Details ",1),e("div",Je,[qe,B(e("input",{id:"first-name",class:A(["mt-1 border border-[#D2D2D2] focus-visible:outline-[#046A38] py-[14px] px-[15px] rounded-md text-base ",{"border-red-500":k.value.first_name}]),type:"text",placeholder:"Juan Ryan","onUpdate:modelValue":a[0]||(a[0]=v=>s.value.guest_first_name=v),onKeyup:a[1]||(a[1]=v=>$("first_name"))},null,34),[[F,s.value.guest_first_name]]),e("p",Xe,x(k.value.first_name),1)]),e("div",Ye,[e("div",et,[tt,B(e("input",{id:"middle-name",class:A(["mt-1 border border-[#D2D2D2] focus-visible:outline-[#046A38] py-[14px] px-[15px] rounded-md text-base ",{"border-red-500":k.value.middle_name}]),type:"text",placeholder:"Mercado","onUpdate:modelValue":a[2]||(a[2]=v=>s.value.guest_middle_name=v),onKeyup:a[3]||(a[3]=v=>$("middle_name"))},null,34),[[F,s.value.guest_middle_name]]),e("p",at,x(k.value.middle_name),1)]),e("div",st,[ot,B(e("input",{id:"last-name",class:A(["mt-1 border border-[#D2D2D2] focus-visible:outline-[#046A38] py-[14px] px-[15px] rounded-md text-base ",{"border-red-500":k.value.last_name}]),type:"text",placeholder:"Dela Cruz","onUpdate:modelValue":a[4]||(a[4]=v=>s.value.guest_last_name=v),onKeyup:a[5]||(a[5]=v=>$("last_name"))},null,34),[[F,s.value.guest_last_name]]),e("p",lt,x(k.value.last_name),1)])]),e("div",nt,[it,B(e("input",{id:"phone-number",onKeypress:a[6]||(a[6]=v=>o(we)(v)),class:A(["mt-1 border border-[#D2D2D2] focus-visible:outline-[#046A38] p-[14px]  rounded-md text-base ",{"pl-[52px]":((g=s.value.countryCode)==null?void 0:g.length)===2},{"pl-[63px]":((S=s.value.countryCode)==null?void 0:S.length)===3},{"pl-[70px]":((l=s.value.countryCode)==null?void 0:l.length)===4},{"pl-[80px]":((h=s.value.countryCode)==null?void 0:h.length)===5},{"border-red-500":k.value.contact}]),type:"number",onKeyup:a[7]||(a[7]=v=>$("contact")),"onUpdate:modelValue":a[8]||(a[8]=v=>s.value.guest_contact=v)},null,34),[[F,s.value.guest_contact]]),e("p",rt,x(k.value.contact),1),e("div",{class:"absolute top-9 left-[14px] flex items-center gap-1",onClick:a[9]||(a[9]=v=>t.value=!t.value)},[e("span",null,x(s.value.countryCode),1),V(o(K),{height:"10",width:"10",color:"#707070",direction:"down"})]),t.value?(y(),w("div",dt)):P("",!0)]),e("div",ut,[ct,B(e("input",{"onUpdate:modelValue":a[10]||(a[10]=v=>s.value.guest_email=v),id:"email",class:A(["mt-1 border border-[#D2D2D2] focus-visible:outline-[#046A38] py-[14px] px-[15px] rounded-md text-base ",{"border-red-500":k.value.email}]),type:"email",onKeyup:a[11]||(a[11]=v=>$("email"))},null,34),[[F,s.value.guest_email]]),e("p",mt,x(k.value.email),1)]),e("div",pt,[e("button",{type:"button",class:A(["btn btn-danger-outline px-10 rounded-[5px]",{invisible:!s.value.hasOwnProperty("index")},{"xs:hidden":!s.value.hasOwnProperty("index")}]),onClick:a[12]||(a[12]=v=>{var b;return r.value=!0,f.value=(b=s.value)==null?void 0:b.index})}," Remove ",2),e("button",{type:"button",class:"btn btn-primary px-10 rounded-[5px]",onClick:R}," Save ")])])]}),_:1},8,["show"]),V(o(Le),{show:t.value,"onUpdate:code":a[14]||(a[14]=g=>s.value.countryCode=g),"onUpdate:show":a[15]||(a[15]=g=>t.value=g)},null,8,["show"]),V(J,{show:r.value,"onUpdate:show":a[17]||(a[17]=g=>r.value=g),containerClass:"w-[300px] h-auto "},{default:W(()=>[e("div",vt,[V(o(Me))]),_t,e("div",ft,[e("button",{type:"button",class:"btn btn-primary py-[14px]",onClick:E}," Yes "),e("button",{type:"button",class:"btn btn-primary-outline py-[14px]",onClick:a[16]||(a[16]=g=>r.value=!1)}," Cancel ")])]),_:1},8,["show"])]))}};function xt(_,i){if(!_)return;const n=t=>{t.target!==_.value&&t.composedPath().includes(_.value)||typeof i=="function"&&i()};return q(()=>{window.addEventListener("click",n)}),he(()=>{window.removeEventListener("click",n)}),{listener:n}}const j=_=>(ne("data-v-f6cbaab2"),_=_(),ie(),_),bt=j(()=>e("div",{class:"leading-6 text-[20px] font-medium ."}," Date of Travel & Room ",-1)),gt={class:"flex mt-[21.51px] gap-11"},yt=j(()=>e("div",{class:"text-[14px] leading-6 font-bold"},"Check- in",-1)),wt={class:"text-[14px] leading-5 flex gap-[18.75px] items-center"},$t=j(()=>e("div",{class:"text-[14px] leading-6 font-bold"},"Check-out",-1)),St={class:"text-[14px] leading-5 flex gap-[18.75px] items-center"},kt={key:0,class:"_calendar xs:p-4 xs:w-[90%] xs:m-auto xs:overflow-hidden absolute mt-5 w-[550px] h-auto shadow-md bg-base-100 rounded-md text-xs text-[14px] font-medium text-black p-6 overflow-y-auto z-10 md:w-fit"},Dt=j(()=>e("div",{class:"text-base text-[24px] xs:text-[18px]"},"When's your trip?",-1)),Rt={class:"mt-[32px]"},Ct={class:"flex mt-[21.31px] gap-11"},At=j(()=>e("div",{class:"text-[14px] leading-6 font-bold"}," Number of Rooms ",-1)),Lt={class:"text-[14px] leading-5 flex gap-[18.75px] items-center"},Mt={key:0,class:"xs:w-[90%] xs:m-auto xs:mt-6 absolute mt-5 w-[322px] h-auto shadow-md bg-base-100 rounded-md text-xs text-[14px] font-medium text-black p-5"},Vt=j(()=>e("div",{class:"text-base text-[24px]"},"How many do you need?",-1)),Et=j(()=>e("div",{class:"my-[10px]"},"Number of Rooms",-1)),Ut={class:"flex items-center"},Pt={class:"mx-3 text-base"},Nt={__name:"TravelsRooms",props:{checkin:{type:String,default:""},checkout:{type:String,default:""},rooms:{type:Number,default:0}},setup(_){const i=_,n=xe(),t=X(),r=D(!1),s=D(!1),k=D(1),m=D([]),f=D(1),U=D();xt(U,()=>{s.value=r.value=!1});const C=(S,l,h)=>{if(!S.length)return"N/A";let v=0,b=0,N=0,d=S[0].multiplier;return S.forEach(u=>{typeof u.discount_rate=="number"?v+=u.discount_rate:v+=u.rate,d<u.multiplier&&(d=u.multiplier),b+=u.rate,N+=u.points}),l===1?Y(h,Math.round(v)):l===2?Y(h,Math.round(b)):l===3?Y("",Math.round(N)):d},$=async()=>{var l;t.selectedRoom.isConfirmBtnDisabled=!0;let S={check_in:z(new Date(m.value[0])),check_out:z(new Date(m.value[1])),number_of_rooms:t.selectedRoom.selected_number_of_rooms,property:t.booking.propertyId,search:t.booking.area};if(n.name==="BaseRoute::UpdateBooking"){const{room_id:h,rate_id:v}=t.selectedRoom;S={...S,room:h,rate:v}}try{const h=await ye(S);(l=h.data)!=null&&l.length&&await E(h.data)}catch{}setTimeout(()=>{t.selectedRoom.isConfirmBtnDisabled=!1},1e3)},R=async S=>S.map(v=>v.available_rooms).reduce((v,b)=>(v=v>b?b:v,v)),E=async S=>{var b,N,d,u;const{currency:l}=t.selectedRoom;let h={};if(n.name==="BaseRoute::UpdateBooking")h=S[0].rooms[0].plans[0];else{const c=(b=t.selectedRoom.room)==null?void 0:b.id,L=(N=t.selectedRoom.plan)==null?void 0:N.id,I=(d=S[0].rooms)==null?void 0:d.find(Z=>Z.id===c);h=I==null?void 0:I.plans.find(Z=>Z.id===L)}const v=await R(h.rates);if(t.setSelectedRoom({...t.selectedRoom,plan:h,discountedRate:C(h.rates,1,l),rate:C(h.rates,2,l),points:C(h.rates,3),multiplier:C(h.rates,4),...i.params,stay:(u=h.rates)==null?void 0:u.length,available_room:v}),t.selectedRoom){let c=t.selectedRoom.plan.rates.filter(L=>(L.base_rate=L.rate,L));localStorage.setItem("_ROOMRATES",JSON.stringify(c)),localStorage.setItem("_ORIGINAL_ROOMRATES",JSON.stringify(c))}},p=D(!1),a=()=>{t.selectedRoom.available_room<f.value?t.selectedRoom.available_room===0?f.value=1:f.value=t.selectedRoom.available_room:f.value===t.selectedRoom.available_room?f.value:f.value===10||f.value++},g=()=>{t.selectedRoom.available_room<f.value?t.selectedRoom.available_room===0?f.value=1:f.value=t.selectedRoom.available_room:f.value<=1||f.value--};return T(()=>m.value,S=>{if(S){if(t.selectedRoom.check_in=z(new Date(m.value[0])),t.selectedRoom.check_out=z(new Date(m.value[1])),!p.value){p.value=!0;return}$(),localStorage.setItem("_IS_DATE_CLICK","1")}}),T(()=>[r.value,s.value,m.value],([S,l,h],[v,b,N])=>{(S||l)&&(t.selectedRoom.isConfirmBtnDisabled=!0),!S&&!l&&h===N&&(t.selectedRoom.isConfirmBtnDisabled=!1)}),T(()=>s.value,S=>{if(S){f.value=t.selectedRoom.selected_number_of_rooms;return}t.selectedRoom.selected_number_of_rooms=f.value;let l=t.booking.bookDate;m.value=l,$(),localStorage.setItem("_IS_DATE_CLICK","1")}),q(()=>{m.value=t.booking.bookDate}),(S,l)=>{var h,v;return y(),w("div",{ref_key:"componentRef",ref:U},[bt,e("div",gt,[e("div",{class:"flex-1",onClick:l[0]||(l[0]=O(b=>{r.value=!r.value,s.value=!1},["stop"]))},[yt,e("div",wt,[e("span",null,x(o(ae)(new Date((h=o(t).selectedRoom)==null?void 0:h.check_in),!0)),1),e("div",null,[V(o(K),{height:"12",width:"12",color:"#046A38"})])])]),e("div",{class:"flex-1",onClick:l[1]||(l[1]=O(b=>{r.value=!r.value,s.value=!1},["stop"]))},[$t,e("div",St,[e("span",null,x(o(ae)(new Date((v=o(t).selectedRoom)==null?void 0:v.check_out),!0)),1),e("div",null,[V(o(K),{height:"12",width:"12",color:"#046A38"})])])]),r.value?(y(),w("div",kt,[Dt,e("div",Rt,[V($e,{bookDate:m.value,"onUpdate:displayDate":l[2]||(l[2]=b=>o(t).selectedRoom.displayDate=b),"onUpdate:showCalendars":l[3]||(l[3]=b=>r.value=b),"onUpdate:bookDate":l[4]||(l[4]=b=>m.value=o(t).booking.bookDate=b),"onUpdate:stayNigtht":l[5]||(l[5]=b=>o(t).selectedRoom.stay=b)},null,8,["bookDate"])])])):P("",!0)]),e("div",Ct,[e("div",{onClick:l[6]||(l[6]=O(b=>{s.value=!s.value,S.showAreas=r.value=!1,!k.value&&(k.value=1)},["stop"]))},[At,e("div",Lt,[e("span",null,x(o(t).selectedRoom.selected_number_of_rooms)+" Room"+x(o(t).selectedRoom.selected_number_of_rooms>1?"s":""),1),V(o(K),{height:"12",width:"12",color:"#046A38"})])]),s.value?(y(),w("div",Mt,[Vt,Et,e("div",Ut,[V(o(Se),{onClick:l[7]||(l[7]=O(b=>g(),["stop"])),active:f.value!=1},null,8,["active"]),e("label",Pt,x(f.value),1),V(o(ke),{onClick:l[8]||(l[8]=O(b=>a(),["stop"])),active:o(t).selectedRoom.available_room>10?f.value!==10:f.value!==o(t).selectedRoom.available_room&&o(t).selectedRoom.available_room!==0},null,8,["active"])])])):P("",!0)])],512)}}},fs=te(Nt,[["__scopeId","data-v-f6cbaab2"]]);const Tt={key:0,class:"mt-5 flex flex-col gap-5 guest"},It={class:"flex justify-between",style:{}},Bt={class:"font-bold break-all"},Ft=["onClick"],Ot={class:"mt-[17px] break-all"},jt={class:"break-all"},Gt={__name:"GuestDetails",setup(_){const i=re(),n=de(),t=X(),r=D(!1),s=D({}),k=D({id:null,guest_first_name:null,guest_middle_name:null,guest_last_name:null,guest_contact:"",guest_email:null,countryCode:"+63"}),m=ue(()=>{var p;return((p=t.selectedRoom.room)==null?void 0:p.max_capacity)??t.selectedRoom.room_max_capacity}),f=p=>{t.guestDetails.push(p)},U=p=>{t.guestDetails=t.guestDetails.filter((a,g)=>p!==g)},C=p=>{t.guestDetails[p.index]={...p}},$=()=>{t.guestDetails[0]={id:null,guest_first_name:i.profile.firstName,guest_middle_name:i.profile.middleName,guest_last_name:i.profile.lastName,guest_contact:i.profile.contact,guest_email:i.profile.email}},R=()=>{i.logout($cookies)},E=()=>{var p,a,g;if(i.profile.email){if(((p=i.profile)==null?void 0:p.email)!==((a=t.guestDetails[0])==null?void 0:a.guest_email)&&((g=t.guestDetails)!=null&&g.length)){n.alertModal.state=!1,n.alertModal={state:!0,content:"Your email is not the same as the registered email in your booking."},R();return}$()}};return q(()=>{E()}),T(()=>i.profile,p=>{E()}),(p,a)=>{var g,S;return y(),w("div",null,[(g=o(t).guestDetails)!=null&&g.length?(y(),w("div",Tt,[(y(!0),w(ce,null,me(o(t).guestDetails,(l,h)=>(y(),w("div",{class:"card p-5 rounded-none text-base",key:h},[e("div",It,[e("div",Bt,x(`${(l==null?void 0:l.guest_first_name)||""} ${(l==null?void 0:l.guest_middle_name)||""} ${(l==null?void 0:l.guest_last_name)||""}`),1),e("div",{class:"text-primary text-sm leading-4 font-medium cursor-pointer",onClick:v=>(s.value={...l,index:h},r.value=!0)}," Edit ",8,Ft)]),e("div",Ot,x(l.guest_contact&&o(Re)(l.guest_contact)),1),e("div",jt,x(l.guest_email),1)]))),128))])):P("",!0),e("div",{class:A(["mt-5 flex",(S=o(t).guestDetails)!=null&&S.length?"justify-end":"justify-start"])},[e("button",{type:"button",class:"btn btn-primary-outline px-10 py-4",onClick:a[0]||(a[0]=l=>{var h;return((h=o(t).guestDetails)==null?void 0:h.length)>=o(m)?o(n).alertModal={state:!0,content:`The maximum guest list is ${o(m)}.`}:(s.value={...k.value},r.value=!0)})}," Add Guest Details ")],2),V(o(ht),{show:r.value,guestData:s.value,"onUpdate:show":a[1]||(a[1]=l=>r.value=l),"onAdd:guestDetails":f,"onUpdate:guestDetails":C,"onDelete:guestDetails":U},null,8,["show","guestData"])])}}},hs=te(Gt,[["__scopeId","data-v-6d18faa9"]]);const G=_=>(ne("data-v-c86adf2b"),_=_(),ie(),_),Zt={class:"px-[8px]"},Ht={key:0,class:"font-bold"},zt={key:1,class:"font-bold"},Qt={class:"px-[8px] mt-[5px]"},Kt={key:0,class:"mt-1 relative search-wrapper"},Wt={key:1,class:"list-wrapper overflow-auto flex flex-col gap-[5px]",ref:"scrollComponent"},Jt=["onClick"],qt={class:"flex flex-col break-all"},Xt={class:"mt-[10px] flex justify-start w-full"},Yt={class:"sm:flex sm:justify-between"},ea={key:0,class:"font-bold mr-1",style:{color:"#046A38"}},ta={key:1},aa=["innerHTML"],sa=["onClick"],oa={key:1,class:"text-center"},la={key:0},na={key:1},ia={key:2,class:"overflow-auto details-wrapper"},ra={class:"flex flex-col break-all"},da={class:"font-bold"},ua={class:"mt-[10px] flex justify-start"},ca={class:"text-primary font-bold bg-[#1AB55C24] px-4 py-1 border-2 border-[#046A38] border-dashed"},ma={class:"mt-[10px] flex justify-between text-[12px] leading-4 text-[#707070]"},pa={class:"sm:block"},va={key:0,class:"font-bold mr-1",style:{color:"#046A38"}},_a={key:1,class:"sm:mt-2"},fa=["innerHTML"],ha=G(()=>e("div",{class:"text-sm leading-4 text-primary invisible"}," Use Now ",-1)),xa=G(()=>e("div",{class:"font-bold mt-6"},"Voucher Name",-1)),ba={class:"mt-1 text-base break-words mr-3"},ga=G(()=>e("div",{class:"font-bold mt-6"},"Code",-1)),ya={class:"mt-1 text-base break-words mr-3]"},wa=G(()=>e("div",{class:"font-bold mt-6"},"Validity Date",-1)),$a={class:"mt-1 text-base"},Sa=G(()=>e("div",{class:"font-bold mt-6"},"Stay Date",-1)),ka={class:"mt-1 text-base"},Da=G(()=>e("div",{class:"font-bold mt-6"},"Terms and Conditions",-1)),Ra=["innerHTML"],Ca={key:3,class:"mt-8 flex justify-between xs:flex-col xs:gap-2"},Aa=["disabled"],La={__name:"index",props:{totalAmount:{type:Number,default:null},totalAmountRaw:{type:Number,default:null},currency:{type:String,default:null}},setup(_){const i=_,n=X(),t=re(),r=de(),s=D(""),k=D([]),m=D({}),f=D(!0),U=D(!1),C=D(!0),$=D(1),R=ue(()=>k.value.filter(d=>d.code.toLowerCase().includes(s.value.toLowerCase()))),E=async d=>{U.value=!0;try{let u=1;for(;;){const c=await Ve(d,u);if(c.status!==200)break;let L=c.data.data;if(k.value.push(...L),c.data.links.next)u++;else{C.value=!0;break}}}catch(u){console.error("Error:",u)}finally{U.value=!1,C.value=!0}},p=d=>{if(d.status==3){if(localStorage.getItem("_IS_UPDATE")){if(localStorage.getItem("_CURRENTVOUCHER_FROM_VIEW")){if(JSON.parse(localStorage.getItem("_CURRENTVOUCHER_FROM_VIEW")).mod_type==3){r.alertModal={state:!0,content:"Sorry, you can't replace fixed voucher during an update."};return}else if(d.mod_type==3){r.alertModal={state:!0,content:"Sorry, you can't add fixed voucher during an update."};return}}else if(d.mod_type==3){r.alertModal={state:!0,content:"Sorry, you can't add fixed voucher during an update."};return}localStorage.setItem("_CURRENTVOUCHER_FROM_VIEW",JSON.stringify(d))}if(localStorage.setItem("isClickVoucher","1"),d.left=d.left+"",d.left&&d.left==="0")return;const c=M.fromSQL(d.checkin_start),L=M.fromSQL(d.checkin_end),I=M.fromSQL(n.selectedRoom.check_in+" 00:00:00"),Z=M.fromSQL(n.selectedRoom.check_out+" 00:00:00");if(I<c||Z>L){r.alertModal={state:!0,content:"Sorry, this voucher is invalid. Stay dates do not meet the voucher promo period."};return}var u=0;if(d.mod_type==2)u=i.totalAmountRaw*(d.mod_value/100);else{if(d.currency!=i.currency){r.alertModal={state:!0,content:"Sorry, this voucher is invalid. The voucher uses a different currency."};return}u=Number(d.mod_value)}if(d.mod_type<=2&&u>i.totalAmount){r.alertModal={state:!0,content:"We’re sorry, you cannot fully pay only with a voucher. Please add an additional payment method."};return}n.voucherState=!1,n.setVoucher(d),f.value=!0}};q(()=>{f.value=!0,t.isGuest||setTimeout(()=>{let d=n.property_id;if(E({search:"",property_id:d}),n.selectedRoom&&n.selectedRoom.plan){let u=n.selectedRoom.plan.rates.filter(c=>(c.base_rate=c.rate,c));localStorage.setItem("_ROOMRATES",JSON.stringify(u))}},500)}),T(()=>n.voucherState,d=>{d||(s.value="")}),T(()=>t.isGuest,d=>{if(!d){let u=n.property_id;E({search:"",property_id:u})}});const a=D(!1),g=D(""),S=()=>{if(a.value=!1,!g.value)return;let d=k.value.filter(u=>u.code.toLowerCase().includes(g.value.toLowerCase()));if(d.length>0){let u=d[0];p(u)}},l=()=>{if(g.value="",a.value=!1,n.voucherState=!0,!t.isGuest){let d=n.property_id;$.value=1,k.value=[],setTimeout(()=>{E({search:"",property_id:d})},250)}C.value=!1},h=(d="")=>{g.value=d,n.voucherState=!1,a.value=!0,C.value=!1},v=()=>{g.value="",C.value=!0},b=({status:d,uses:u,user_limit:c,left:L})=>{if(d!=3||(L=L+"",c&&L&&L=="0"))return!0},N=d=>{m.value=d};return(d,u)=>(y(),w("div",null,[V(o(J),{show:o(n).voucherState,"onUpdate:show":u[5]||(u[5]=c=>{o(n).voucherState=c,f.value=!0}),containerClass:"voucher-modal w-[536px] h-[560px] h-auto text-14-24 md:w-full md:mx-6 landscape:overflow-x-hidden p-6 pt-[10px]"},{default:W(()=>[e("div",Zt,[f.value?(y(),w("div",Ht,"My Vouchers")):(y(),w("div",zt,"Voucher Details"))]),e("div",Qt,[f.value&&o(n).voucherState?(y(),be(o(Ue),{key:0,onSuccess:u[0]||(u[0]=c=>h(c)),onFail:u[1]||(u[1]=c=>v())})):P("",!0)]),f.value?(y(),w("div",Kt,[V(o(Ee),{class:"absolute left-[18px] top-[22px]"}),B(e("input",{class:"py-[10px] w-full px-[15px] pl-[50px] rounded-md border border-[#D2D2D2] focus-visible:outline-[#046A38]",type:"text",placeholder:"Search my voucher code",maxlength:50,"onUpdate:modelValue":u[2]||(u[2]=c=>s.value=c)},null,512),[[F,s.value]])])):P("",!0),f.value?(y(),w("div",Wt,[o(R).length>0?(y(!0),w(ce,{key:0},me(o(R),(c,L)=>(y(),w("div",{key:L,class:A(["bg-[#fff] p-4  rounded-md cursor-pointer"]),style:H({backgroundColor:b(c)?"#ECECE9":""}),onClick:I=>{f.value=!1,N(c)}},[e("div",qt,[e("div",{style:H({opacity:b(c)?"0.6":""}),class:"font-bold"},x(c.name),5),e("div",Xt,[e("div",{style:H({opacity:b(c)?"0.6":""}),class:"text-primary font-bold bg-[#1AB55C24] px-4 py-1 border-2 border-[#046A38] border-dashed"},[e("span",null,x(c.code),1)],4)])]),e("div",{style:H({opacity:b(c)?"0.6":""}),class:"mt-[10px] flex justify-between text-[12px] leading-4 text-[#707070] sm:block"},[e("div",Yt,[c.user_limit?(y(),w("span",ea,x(c.left?c.left:"0")+"/"+x(c.user_limit?c.user_limit:"0"),1)):P("",!0),c.validity_end?(y(),w("span",ta," Valid until "+x(o(M).fromSQL(c.validity_end).toLocaleString(o(M).DATE_FULL)),1)):(y(),w("div",{key:2,class:"c-html-data",innerHTML:c.description},null,8,aa))]),e("div",{style:H({opacity:b(c)?"0.6":""}),class:"text-sm leading-4 text-primary font-medium sm:mt-3",onClick:O(I=>p(c),["stop"])}," Use Now ",12,sa)],4)],12,Jt))),128)):(y(),w("div",oa,[U.value?(y(),w("span",la)):(y(),w("span",na,x(C.value?"Looks like no voucher is available right now.":""),1))]))],512)):(y(),w("div",ia,[e("div",{class:A(["mt-[10px] bg-[#F6F6F6] p-4 rounded-md cursor-pointer",{"bg-[#00000029] opacity-50":b(m.value)}])},[e("div",ra,[e("div",da,x(m.value.name),1),e("div",ua,[e("div",ca,[e("span",null,x(m.value.code),1)])])]),e("div",ma,[e("div",pa,[m.value.user_limit?(y(),w("span",va,x(m.value.left?m.value.left:"0")+"/"+x(m.value.user_limit?m.value.user_limit:"0"),1)):P("",!0),m.value.validity_end?(y(),w("span",_a," Valid until "+x(o(M).fromSQL(m.value.validity_end).toLocaleString(o(M).DATE_FULL)),1)):(y(),w("div",{key:2,class:"c-html-data",innerHTML:m.value.description},null,8,fa))]),ha])],2),xa,e("div",ba,x(m.value.name),1),ga,e("div",ya,x(m.value.code),1),wa,e("div",$a,x(o(M).fromSQL(m.value.validity_start).toLocaleString(o(M).DATE_FULL))+" - "+x(o(M).fromSQL(m.value.validity_end).toLocaleString(o(M).DATE_FULL)),1),Sa,e("div",ka,x(o(M).fromSQL(m.value.checkin_start).toLocaleString(o(M).DATE_FULL))+" - "+x(o(M).fromSQL(m.value.checkin_end).toLocaleString(o(M).DATE_FULL)),1),Da,e("div",{class:"c-html-data mt-1 text-base break-words mr-3",innerHTML:m.value.description},null,8,Ra)])),f.value?P("",!0):(y(),w("div",Ca,[e("button",{class:"btn btn-primary-outline py-1 px-8",onClick:u[3]||(u[3]=c=>f.value=!0)}," Back "),e("button",{class:A(["btn btn-primary py-1 px-8",{"btn-primary-disable":b(m.value)}]),disabled:b(m.value),onClick:u[4]||(u[4]=c=>p(m.value))}," Use Now ",10,Aa)]))]),_:1},8,["show"]),V(o(Pe),{privateVoucher:g.value,isShow:a.value,onUsenow:u[6]||(u[6]=c=>S()),onClose:u[7]||(u[7]=c=>l())},null,8,["privateVoucher","isShow"])]))}},xs=te(La,[["__scopeId","data-v-c86adf2b"]]),Ma=["onSubmit"],Va=e("div",{class:A(["text-xl leading-6 ","font-medium"])}," Enter Security Code ",-1),Ea=e("div",{class:A(["mt-8","font-medium","","text-lg","leading-[21px]","text-[#25282A]"])}," Card Details ",-1),Ua={class:A(["flex","flex-col","mt-5"])},Pa={key:0,class:"flex justify-between text-[15px] leading-[19px] text-[#272727]"},Na={class:"flex gap-3 items-center"},Ta=["src"],Ia={class:"flex gap-10 items-center"},Ba={class:"flex flex-col mt-4"},Fa=e("label",{class:A(["","font-medium","text-14-16"])},"CVV",-1),Oa={class:"text-sm text-red-600"},ja={class:A(["mt-8","flex","justify-between xs:flex-col xs:gap-2"])},Ga=e("button",{type:"submit",class:A(["btn btn-primary","px-10","py-4","rounded-lg","text-14-16","font-medium"])}," Submit ",-1),bs={__name:"AppCVVModal",props:{show:{type:Boolean,default:!0}},emits:["update:code","update:show"],setup(_,{emit:i}){const n=_,t=X(),r=D(null),s=D({cvv:null}),k=()=>{var $;return ge({cvv:r.value},{cvv:["required",{type:"cvv",brand:(($=t.paymentMethod.cardDetails)==null?void 0:$.brand)==="amex"?"americanexpress":t.paymentMethod.cardDetails.brand},{type:"max",max:4}]})},m=$=>{const R=k();R[$]?s.value[$]=R[$][0]:s.value[$]=null},f=()=>{const $=k();Object.keys($).length===0?(C(),i("update:code",r.value)):(C(),U($))},U=$=>{for(const R in $)s.value[R]=$[R][0]},C=()=>{s.value={cvv:null}};return T(()=>n.show,$=>{$||(r.value=null,C())}),($,R)=>(y(),w("div",null,[V(J,{show:_.show,"onUpdate:show":R[3]||(R[3]=E=>$.$emit("update:show",!1)),containerClass:"w-[536px] h-auto md:w-full md:mx-6"},{default:W(()=>{var E,p;return[e("form",{onSubmit:O(f,["prevent"])},[Va,Ea,e("div",Ua,[o(t).paymentMethod.cardDetails?(y(),w("div",Pa,[e("div",Na,[e("img",{class:"w-6",src:((E=o(t).paymentMethod.cardDetails)==null?void 0:E.brand)==="amex"?o(se)("americanexpress"):o(se)((p=o(t).paymentMethod.cardDetails)==null?void 0:p.brand)},null,8,Ta),e("span",null,x(o(Ae)(o(t).paymentMethod.cardDetails.brand)),1)]),e("div",Ia,[e("div",null," *** "+x(o(t).paymentMethod.cardDetails.last4),1)])])):P("",!0)]),e("div",Ba,[Fa,B(e("input",{class:A(["p-[14px]","h-12","rounded-md","mt-1","border","border-[#D2D2D2]","focus-visible:outline-[#046A38]",{"border-red-500":s.value.cvv}]),type:"text","data-maska":"####","onUpdate:modelValue":R[0]||(R[0]=a=>r.value=a),onKeyup:R[1]||(R[1]=a=>m("cvv"))},null,34),[[o(Ce)],[F,r.value]]),e("p",Oa,x(s.value.cvv),1)]),e("div",ja,[e("button",{type:"button",class:A(["btn btn-primary-outline","px-10","py-4","rounded-lg","text-14-16","font-medium"]),onClick:R[2]||(R[2]=a=>$.$emit("update:show",!1))}," Back "),Ga])],40,Ma)]}),_:1},8,["show"])]))}};var pe="https://js.stripe.com/v3",Za=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,oe="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Ha=function(){for(var i=document.querySelectorAll('script[src^="'.concat(pe,'"]')),n=0;n<i.length;n++){var t=i[n];if(Za.test(t.src))return t}return null},za=function(i){var n=i&&!i.advancedFraudSignals?"?advancedFraudSignals=false":"",t=document.createElement("script");t.src="".concat(pe).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(t),t},Qa=function(i,n){!i||!i._registerWrapper||i._registerWrapper({name:"stripe-js",version:"1.54.0",startTime:n})},Q=null,Ka=function(i){return Q!==null||(Q=new Promise(function(n,t){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&i&&console.warn(oe),window.Stripe){n(window.Stripe);return}try{var r=Ha();r&&i?console.warn(oe):r||(r=za(i)),r.addEventListener("load",function(){window.Stripe?n(window.Stripe):t(new Error("Stripe.js not available"))}),r.addEventListener("error",function(){t(new Error("Failed to load Stripe.js"))})}catch(s){t(s);return}})),Q},Wa=function(i,n,t){if(i===null)return null;var r=i.apply(void 0,n);return Qa(r,t),r},ve=Promise.resolve().then(function(){return Ka(null)}),_e=!1;ve.catch(function(_){_e||console.warn(_)});var gs=function(){for(var i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];_e=!0;var r=Date.now();return ve.then(function(s){return Wa(s,n,r)})};export{hs as G,fs as T,xs as V,vs as _,ps as a,_s as b,bs as c,gs as l};
