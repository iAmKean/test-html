import{s as b,B as y,r as i,g as d,o as f,c as k,a as e,p as _,H as g,an as I,v as S,t as h,i as V,j as B,u as U,I as $,J as C}from"./index-0d29c91c.js";import{u as D}from"./vouchers-0dc779af.js";import{_ as m}from"./_plugin-vue_export-helper-c27b6911.js";import j from"./AppModal-b27e53ae.js";import"./AppLoader.vue_vue_type_style_index_0_lang-2e650906.js";/* empty css                                                               */const A={class:"input-private-voucher"},K={class:"flex mt-1 sm:block"},M=["onKeyup"],P=["disabled"],E={class:"min-h-[16px] pt-1"},N={__name:"InputPrivateVoucher",emits:["confirm","success","fail"],setup(l,{emit:r}){const c=b();y();const n=i(!1),o=i(!1),t=i(""),s=i("test");d(()=>t.value,(a,u)=>{t.value||(s.value="",o.value=!1)});const p=()=>{s.value="",o.value=!1,t.value&&(n.value=!0,x())},x=async()=>{const a=await D(c.auth,{code:t.value});if(a.status==200){let{voucher:u}=a.data;u.status<=2?(r("fail"),o.value=!0,s.value="Invalid voucher code."):(r("success",t.value),t.value="")}else r("fail"),a.status==404||a.status==409?(o.value=!0,a.status==404?s.value="Invalid voucher code.":s.value="Voucher already unlocked."):o.value=!1;n.value=!1};return(a,u)=>(f(),k("div",A,[e("div",K,[_(e("input",{class:"py-[10px] w-full pl-4 rounded-md border border-[#D2D2D2] focus-visible:outline-[#046A38]",type:"text",placeholder:"Unlock voucher code","onUpdate:modelValue":u[0]||(u[0]=w=>t.value=w),onKeyup:I(p,["enter"])},null,40,M),[[g,t.value]]),e("button",{disabled:!!n.value,type:"button",class:"btn btn-primary font-normal ml-2 px-8 sm:mt-2 sm:ml-0 sm:w-full",onClick:p}," Unlock ",8,P)]),e("div",E,[_(e("p",{class:"text-[#EA243F] text-[14px]",style:{"line-height":"12px"}},h(s.value),513),[[S,o.value]])])]))}},te=m(N,[["__scopeId","data-v-8b18dfc0"]]),F="/assets/confetti-95c0d687.png",H="/assets/border-4b0c7b4e.png";const v=l=>($("data-v-03de6fef"),l=l(),C(),l),J={class:"voucher-unlocked"},T={class:"relative min-h-[147px] flex justify-center items-center sm:min-h-[127px]"},Y=v(()=>e("img",{class:"confetti h-full w-full left-[0px]",src:F,alt:"confetti"},null,-1)),q={class:"voucher-code-wrapper min-h-[100px] relative w-[90%] flex justify-center items-center md:w-[85%] sm:w-[93%] xs:w-[100%]"},z=v(()=>e("img",{class:"voucher-border w-full h-full",src:H,alt:"border"},null,-1)),G={class:"code-text relative font-extrabold text-[14px] text-center pl-[35px] pr-[25px] pb-[10px] xs:pl-[40px] sm:text-[18px] xs:text-[14px]"},L=v(()=>e("div",{class:"mt-4 text-center font-bold"},[e("p",{class:"text-[16px]"},"Congratulations!"),e("p",{class:"mt-1"},"You have unlocked a voucher.")],-1)),O={__name:"voucherUnlocked",props:{showUseNowBtn:{default:!0,type:Boolean},isShow:{default:!1,type:Boolean},privateVoucher:""},emits:["close","open","usenow"],setup(l,{emit:r}){const c=l;d(()=>c.isShow,(t,s)=>{n.value=c.isShow}),d(()=>c.privateVoucher,(t,s)=>{});const n=i(!1),o=()=>{r("close")};return(t,s)=>(f(),V(U(j),{show:n.value,"onUpdate:show":s[0]||(s[0]=p=>o()),containerClass:"w-[326px] h-auto text-14-24 md:w-full md:mx-6 landscape:overflow-x-hidden xs:w-[90%] p-6"},{default:B(()=>[e("div",J,[e("div",T,[Y,e("div",q,[z,e("p",G,h(c.privateVoucher),1)])]),L])]),_:1},8,["show"]))}},se=m(O,[["__scopeId","data-v-03de6fef"]]);export{te as I,se as v};
