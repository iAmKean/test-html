import{s as B,r as l,c as f,a as e,q as E,p as j,H as C,n as F,t as v,u as d,h as w,j as b,o as p,b as g,a3 as D,a7 as M}from"./index-0d29c91c.js";import{_ as P}from"./logo-Hotel101-c40e9d3c.js";import{_ as $}from"./icn-intruction-70cf9e04.js";import k from"./AppModal-b27e53ae.js";import"./AppLoader.vue_vue_type_style_index_0_lang-2e650906.js";/* empty css                                                               */const R={class:"flex-1 pt-[62px] flex flex-col md:bg-[#F6F6F6]"},S={class:"flex justify-center"},T={class:"mt-10 w-[309px] flex flex-col justify-center mx-auto md:mt-8 md:w-full md:px-[33px]"},V=e("div",{class:"text-xl leading-6 font-medium"},"Reset Password",-1),z=e("div",{class:"mt-5 text-14-20 md:mt-5"}," Enter your email address and we will send you instructions on how to create a new password. ",-1),G={class:"mt-5 flex-1 flex flex-col md:mt-10"},I={class:"flex flex-col"},N=e("label",{for:"email"},"Email",-1),U={class:"text-sm text-red-600"},A=e("button",{type:"submit",class:"mt-5 btn btn-primary capitalize w-full font-bold text-14-16 md:font-medium"}," Reset ",-1),H={class:"mt-1 flex flex-col gap-5"},O=e("div",{class:"flex justify-center"},[e("img",{src:$,alt:"instruction-icon"})],-1),Y={class:"text-14-20 text-left"},J={key:0},K={key:1},L=e("br",null,null,-1),Q={class:"mt-1 flex flex-col gap-5"},W=e("div",{class:"flex justify-center"},[e("img",{src:$,alt:"instruction-icon"})],-1),X={class:"text-14-20 text-left"},re={__name:"index",setup(Z){const x=B(),r=l(""),n=l(!1),c=l(!1),i=l(!1),o=l(0);var m=null;const u=l({email:null}),_=()=>{m&&clearInterval(m),o.value=60,m=setInterval(()=>{o.value!==0?o.value--:i.value=!1},1e3)},q=async()=>{let s=D({email:r.value},{email:["required","email"]});if(Object.keys(s).length===0){if(y(),o.value!=0){i.value=!0;return}var t=await M(r.value);t.status==200?(c.value=!0,n.value=!0,r.value="",_()):t.status==244?(c.value=!1,n.value=!0):t.data.errors&&(t.data.errors.email[0]=="Please wait before retrying."?(o.value==0&&_(),i.value=!0):h(t.data.errors))}else y(),h(s)},h=s=>{for(const t in s)u.value[t]=s[t][0]},y=()=>{u.value={email:null}};return(s,t)=>(p(),f("div",R,[e("div",S,[e("img",{onClick:t[0]||(t[0]=a=>s.$router.push({path:"/"})),class:"cursor-pointer h-[60px]",src:P,alt:"hotel101-logo"})]),e("div",T,[V,z,e("div",G,[e("form",{onSubmit:t[2]||(t[2]=E(a=>q(),["prevent"]))},[e("div",I,[N,j(e("input",{type:"text",name:"email",placeholder:"Enter your Email",class:F(["mt-1 border border-[#D2D2D2] focus-visible:outline-[#046A38] py-[10px] px-[15px] rounded-md text-base ",{"border-red-500":u.value.email}]),"onUpdate:modelValue":t[1]||(t[1]=a=>r.value=a)},null,2),[[C,r.value]]),e("p",U,v(u.value.email),1)]),A],32),e("button",{type:"button",class:"mt-[26px] btn btn-primary-outline capitalize w-full font-bold text-14-16 md:bg-[#F6F6F6]",onClick:t[3]||(t[3]=a=>s.$router.push(s.$route.query.redirect&&!d(x).isGuest?{path:s.$route.query.redirect,query:{active:2}}:{name:"BaseRoute::home"}))}," Go back to "+v(s.$route.query.redirect&&!d(x).isGuest?"Manage Password":"Homepage"),1)])]),w(d(k),{show:n.value,"onUpdate:show":t[4]||(t[4]=a=>n.value=a),containerClass:"w-[300px] h-auto"},{default:b(()=>[e("div",H,[O,e("div",Y,[c.value?(p(),f("span",J," You should receive an email shortly with further instructions. ")):(p(),f("span",K,[g(" The email address you entered is not assigned to a registered user."),L,g("Please check and try again. ")]))])])]),_:1},8,["show"]),w(d(k),{show:i.value,"onUpdate:show":t[5]||(t[5]=a=>i.value=a),containerClass:"w-[300px] h-auto"},{default:b(()=>[e("div",Q,[W,e("div",X,[e("span",null,v(o.value)+" second/s until you can request reset link. ",1)])])]),_:1},8,["show"])]))}};export{re as default};
