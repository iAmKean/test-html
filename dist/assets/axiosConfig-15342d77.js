import{ae as n,e as o,ac as t,z as u,G as c}from"./index-0d29c91c.js";u();const p=n(),i=c.API;o();const a=t.create({baseURL:i});a.interceptors.request.use(async e=>{let s=t.CancelToken.source();return e.cancelToken=s.token,p.setCancelToken(s),{...e,headers:{...e.headers},params:{...e.params}}},e=>{console.warn("error"),Promise.reject(e)});a.interceptors.response.use(function(e){return e},function(e){var s;if((e==null?void 0:e.message)==="Network Error"&&(e==null||e.message),[429,403].includes((s=e.response)==null?void 0:s.status)){location.href=`/${e.response.status}`;return}return Promise.reject(e)});export{a};
